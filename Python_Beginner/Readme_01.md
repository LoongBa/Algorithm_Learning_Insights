# 小学生 算法入门 案例精讲系列 2024 Python 版

## 之一：求回文数，练习拆分数字和进制转换

---

**说明：**

> 本文内容较长，持续更新中，连载于：
> 
> - `github` [loongba/Algorithm_Learning_Insights](https://github.com/LoongBa/Algorithm_Learning_Insights)
> 
> - `gitcode` [loongba/Algorithm_Learning_Insights](https://gitcode.com/LoongBa/Algorithm_Learning_Insights)
> 
> - `gitee` [loongba/Algorithm_Learning_Insights](https://gitee.com/LoongBa/Algorithm_Learning_Insights)
> 
> - [loongba 个人网站1](https://coffeedrunk.cn) | [loongba 个人网站2](https://loongba.cn)

在 `github` 或 `markdown` 编辑器中阅读本文时，可打开其目录功能方便浏览和跳转。

> - `github` 页面中，点击文档右上角的目录图标；
> 
> - `marktext` 编辑器中，按 `Ctrl-K`

---

## 算法入门 案例精讲 Python 版 目录

0. [前言：使用说明](README.md)

1. [求回文数，练习拆分数字和进制转换](Readme_01.md)

2. [求水仙花数，了解枚举和迭代](Readme_02.md)

3. [判断素数，初步学习穷举法及优化](Readme_03.md)

4. [求阶和、阶乘，学习迭代和递归](Readme_04.md)

5. [求斐波那契数列，学习迭代和递归](Readme_05.md)

6. [辗转相除法求最大公约数，继续练习迭代和递归](Readme_06.md)

7. [求解汉诺塔问题，继续练习迭代和递归](Readme_07.md)

8. [求解迷宫问题，初步学习回溯](Readme_08.md)

9. [求解八皇后问题，继续练习回溯](Readme_09.md)

---

# 一、求回文数，练习拆分数字和进制转换

> `回文数` `Palindrome Number` 是对称数，指正向读与反向读是相同的，如 `12321`，`33433` 等。

#### 题目要求：

> - 编写函数 `isPalindrome(number:int)`，判断传入的参数 `number` 是否是回文数。如果是，返回 `True`，否则返回 `False`；
> 
> - 再调用这个函数，找出四位数中的回文数，打印并计算个数。

> [求回文数 C 代码](https://github.com/coffeescholar/C_CPP-Learning/blob/main/%E7%AE%97%E6%B3%95%E5%85%A5%E9%97%A8%E7%BB%83%E4%B9%A0/02_%E6%B1%82%E5%9B%9E%E6%96%87%E6%95%B0_%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8F%8D%E8%BD%AC%E5%92%8C%E6%95%B0%E5%AD%A6%E6%96%B9%E6%B3%95%E5%8F%96%E6%95%B0.c)

#### 思路分析：

**先不要看，自己想了再对照看思路，看你能不能想到更多：**

> 可以利用正向与反向相同或对称位数字相同来判断。

1. 反转字符串：利用**字符串反转**，**数值转字符串**，比较反转前后的**字符串的数值**；
   
   1. Python 特有的语法，在其它语言中<u><strong>非通用</strong></u>；
   
   2. Python 列表自带的函数，在不支持类似方法的语言中<u><strong>非通用</strong></u>。虽然其它语言也有类似方法，但很简单不妨自己试试编写；
   
   3. 通用方法：尝试自己编写一个反转字符串的函数。

2. 转字符串：**判断对称位置字符是否相同**：
   
   1. 转为列表，用索引取列表中对称位置的字符**进行字符比较**；
   
   2. 不转为列表，用字符串操作函数取对称位置的的字符**进行字符比较**；

3. 不转字符串，**用数学方法取数值的对称位置的数字**（digit）<u><strong>进行数值比较</strong></u>。
   
   **<u><mark>——都要掌握，尤其必须掌握 解法思路3</mark></u>**

#### 编程练习1：用基本思路实现要求

对照上面的思路分析，编写多个函数，分别完成以下练习：

1. 熟悉数值转字符串、字符串转数值的操作；

2. 对比 Python 中两种取字符的方式：
   
   1. 用 `for` 枚举字符串中的每个字符；
   
   2. 用 `for i in range(n)` 循环，并用索引方式访问字符串中的每个字符的方式 `list[i]` ——此种方式更通用，可适用于其它语言，如 C/C++、Java/C# 等。

3. 熟悉 Python 特有的取逆向字符串的方式，但要学会用其它方法实现：
   
   1. Python 特有/<u><strong>非通用</strong></u>，<u><strong>反向取字符串</strong></u>: `string[::-1]` ——大部分编程语言不支持。
      
      ```python
      def isPalindrome1(number:int):
      # 获得数字对应的字符串
      digits = str(number)
      # 逆向取字符串
      reverseDigits = digits[ : :-1]
      # 返回两个列表是否相等的逻辑值
      return digits == reverseDigits
      ```
   
   2. Python 特有/<u><strong>非通用</strong></u>，<u>将列表反序</u>： `list.reverse()` ——部分语言内置函数库或开发框架也有类似方法。
      
      ```python
      def isPalindrome2(number:int):
      # 获得数字对应的字符串
      digits = str(number)
      # 从字符串构造列表
      digitList = list(digits) # ['1', '2', '3', '4', '5']
      # 逆向取新的列表
      reverseList = digitList.reverse() # ['5', '4', '3', '2', '1']
      #text = "".join(reverseList) # 可将数组元素连接为字符串用于显示等
      # 返回两个列表是否相等的逻辑值
      return digitList == reverseList
      ```
   
   3. **通用方法，语言无关**：<u>用字符串操作判断对应位置字符是否相同</u>。
      
      **注：练习使用正确的索引值范围，避免出错。**
      
      **注：不同编程语言的字符串取值操作方式和函数不同。**
      
      ——略，请自行练习。
   
   4. **通用方法，语言无关**：<u>用列表操作判断对应位置字符是否相同</u>。
      
      注：与上一项区别不大，需要用到字符串转列表的函数 `list(str(number))`
      
      **注：不同语言的字符串取值操作方式和函数不同。**
      
      ——略，请自行练习。

#### 知识拓展1：用数学方法取数值的某位数字

**通用方法，语言无关**

> 十进制数的每一位，对应的数学含义是 `10 的 n-1 次方` 有 `n` 个。
> 
> 例如：12345
> 
> `千位` 对应着 `10 的 3-1 次方`，也就是 `100`，有 `3` 个；
> 
> 12345 的`千位是 2`，意味着 `2 个 1000`；`百位是 3`，意味着 `3 个 100`，以此类推。
> 
> 例如：`12345` 整个数字拆分为：
> 
> 10000 + 2000 + 300 + 40 + 5 = 12345
> 
> 也就是：
> 
> 1×10^4 + 2×10^3 + 3×10^2 + 4×10^1 + 5×10^0

1. **思考：** 如何求一个数字的个位数字？
   ——先自己想想再看下面内容：

> 如果要取末位（个位）上的数字，只需对 `10` 求模即可，即除以十的余数。
> 
> 例如：`12345` 的个位，是：`12345 % 10 = 5`

2. **思考：** 求一个数字上任意位的数字？
   ——先自己想想再看下面内容：

> 求某个数字的某位上的数字是几，可以将该数字缩小 `10` 的 n-1 次方倍并取整数部分，然后求其除以 `10` 的余数。
> 
> 例如：`12345` 的百位上的数字是：`(12345 // 100) % 10 = 3`
> 
> 求 `12345` 百位上的数字，则先将 `12345 缩小 100 倍`（`10 的 2 次方`），抛弃小数点后的部分得到 `123`（直接整除），然后除以 10 求余数（对 10 求模）。
> 
> 类似，求 `12345` 千位上的数字：`(12345 // 1000) % 10 = 2`

#### 编程练习2：用数学方法取数判断是否是回文数

根据知识拓展1，请自行完成以下编程练习：

```python
# 用数学方法求指定位置上的数字，比如 12345，求第右边数第2位（十位）和第4位（千位）
def getDigitByPos(number:int, pos:int):
    x = number    # 比如 12345
    # 略，考验你的时候到了，请自行补全代码

    return x

def isPalindrome(number:int):
    # 请自行补全代码，加上循环对比每一位与对称位置的数字
    #for i in ...
        #digit1 = getDigitByPos(n, i??)
        #digit2 = getDigitByPos(n, i??)
        #print(digit1, digit2, digit1 == digit2)
        # 如果不相等，则

        # 否则
    #return True/False ?
```

#### 知识拓展2：进制转换

> 因为不同进制的“数字”的定义的区别在于“`逢几进位`”——比如二进制是`逢2进位`，八进制是`逢8进位`，十进制是`逢10进位`，十六进制是`逢16进位`，等等。
> 
> 所以，在任意进制之间转换的方法是相同的，因为：
> 
> 每一位代表着该进制的 `n-1` 次方
> 
> 每一位上的数字是几，意味着有几个 `n-1` 次方

> 例如十进制的 `12345` 意味着：
> 
> $1×10^4 + 2×10^3 + 3×10^2 + 4×10^1 + 5×10^0$
> 
> $= 1×10000 + 2×1000 + 3×100 + 4×10 + 5×1 = 12345$

> 八进制的 `12345` 意味着（转为十进制）：
> 
> $1×8^4 + 2×8^3 + 3×8^2 + 4×8^1 + 5×8^0$
> 
> $= 1 × 4096 + 2 × 512 + 3 × 64 + 4 × 8 + 5 × 1 = 5349$

> 十六进制的 `12345` 意味着（转为十进制）：
> 
> $1×16^4 + 2×16^3 + 3×16^2 + 4×16^1 + 5×16^0$
> 
> = ... ... 不妨自己试一试？

> 二进制的 `12345` 呢？
> 
> ——坑，**二进制中没有2及以上的数字**：因为逢二进位，十进制的 `2` 在二进制中表示为 `10`。

现在，你学会了十进制与八进制、十六进制的转换，与二进制如何转换也难不倒你了。

#### 动手练习：进制转换

请动手在草稿纸上试一试、练一练，在二进制与十进制之间的转换。

#### 编程练习3：进制转换函数

> 请分别设计函数，实现二进制、八进制、十六进制、十进制之间的相互转换。

**补充一点有意思的**：

**二进制 与 八进制、十六进制 之间的转换非常简单**，远远不需要像十进制与它们之间的转换那么麻烦。

> **请思考：** 为什么简单？
> 
> ——**请想一想二、八、十六之间的关系，可以如何简化？
